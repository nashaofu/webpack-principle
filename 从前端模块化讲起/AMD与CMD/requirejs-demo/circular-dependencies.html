<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>circular-dependencies</title>
  </head>
  <body>
    <h1>循环依赖解决方案，请在控制台中查看</h1>
    <p>循环依赖解决方案是通过导出函数，在函数中动态的require依赖</p>
    <p>b.js依赖了a，所以输出a的时候为undefined</p>
    <script src="./js/lib/require.js"></script>
    <script>
      requirejs.config({
        baseUrl: '/js/',
        paths: {
          a: './cycles/a',
          b: './cycles/b',
          c: './cycles/c',
          d: './cycles/d'
        }
      })
      require(['a'], a => {
        // 分割线
        console.log('----------------\n')
        console.log('html中a', a)
        // 分割线
        console.log('----------------\n')
      })
    </script>
  </body>
</html>
